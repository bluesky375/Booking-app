{"version":3,"sources":["../../src/pages/edit-pro-service/edit-pro-service.module.ts","../../src/pages/edit-pro-service/edit-pro-service.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EditProServicePage } from './edit-pro-service';\n\n@NgModule({\n  declarations: [\n    EditProServicePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EditProServicePage),\n  ],\n})\nexport class EditProServicePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-pro-service/edit-pro-service.module.ts","import {Component, Injector} from '@angular/core';\nimport { IonicPage } from 'ionic-angular';\nimport {BasePage} from \"../base-page/base-page\";\nimport {User} from \"../../providers/user\";\nimport {ServicesProvider} from \"../../providers/services\";\n\n\n@IonicPage()\n@Component({\n  selector: 'page-edit-pro-service',\n  templateUrl: 'edit-pro-service.html',\n})\nexport class EditProServicePage extends BasePage{\n\n  provider:any;\n  categories:any = [];\n  services:any = [];\n  my_services:any = [];\n  callback:any;\n\n  constructor(injector: Injector,\n              public sp: ServicesProvider,\n              public user: User) {\n    super(injector);\n    this.callback = this.NavParams(\"callback\");\n  }\n\n  ionViewDidLoad() {\n    this.firebase_CurrentScreen('Edit Service Provider Service Screen');\n    this.showLoadingView('e-p-i');\n    this.provider = this.user.getUserInfo();\n    this.loadCategories();\n\n  }\n\n  async loadCategories(){\n\n    await this.sp.getAllServices().subscribe( (data) => {\n\n      this.categories = [];\n\n      if (data.length > 0) {\n\n        for(let c of data) {\n            c.selected = false;\n           for(let mc of this.provider.services){\n             if(mc === c._id ) c.selected = true;\n           }\n           this.categories.push(c);\n        }\n\n        this.loadServices();\n\n      } else {\n\n       this.showContentView();\n\n      }\n      this.onRefreshComplete();\n    }, (err) => {\n      console.log(err);\n      this.showErrorView();\n      this.onRefreshComplete();\n    });\n\n  }\n\n  async loadServices() {\n\n    await this.sp.getAllCategories().subscribe( (data) => {\n\n      this.services = [];\n\n      if (data.length > 0) {\n\n        for(let c of data) {\n          c.selected = false;\n          for(let mc of this.provider.categories){\n            if(mc === c._id ) c.selected = true;\n          }\n          this.services.push(c);\n        }\n\n\n        for(let c of this.categories){\n          if(c.selected) {\n            for(let s of this.services) {\n                if(s.serviceId === c._id){\n                  this.my_services.push(s)\n                }\n            }\n          }\n        }\n\n       this.showContentView();\n\n      } else {\n\n        this.showContentView();\n\n      }\n      this.onRefreshComplete();\n    }, (err) => {\n      console.log(err);\n      this.showErrorView();\n      this.onRefreshComplete();\n    });\n  }\n\n\n  ClickedCat(cat) {\n    cat.selected = !cat.selected;\n\n    this.my_services = [];\n\n    for(let c of this.categories){\n\n      if(c.selected) {\n        for(let s of this.services) {\n          if(s.serviceId === c._id) this.my_services.push(s)\n        }\n      }\n\n      else{\n        for(let s of this.services) {\n          if(s.serviceId === c._id) s.selected = false\n        }\n      }\n\n    }\n  }\n\n  SubmitForm(){\n\n    let categories = [];\n    let services = [];\n\n    for(let c of this.categories){\n       if(c.selected) categories.push(c._id);\n    }\n\n    for(let s of this.services){\n      if(s.selected) services.push(s._id);\n    }\n\n    if(categories.length === 0 || services.length === 0){\n      this.showConfirm(\"Are you sure don't want to choose any service?\").then( () => {\n        this.submit(categories,services);\n\n      }).catch( (err) => console.log(err));\n    }else{\n      this.submit(categories,services);\n    }\n\n  }\n\n  submit(services,categories) {\n\n    this.showLoadingView('e-p-i');\n\n    this.provider.services = services;\n    this.provider.categories = categories;\n    this.provider.id = this.user.getUserInfo()._id;\n\n    this.user.editProInfo(this.provider).subscribe(data => {\n      this.showContentView();\n      this.showToast('You\\'ve successfully updated your services');\n      let res = {data:data.professional,type:'services',categories: this.categories, services: this.services};\n      this.callback(res).then(()=>{\n        this.goBack();\n      });\n    }, e => {\n      this.showContentView();\n      let error: string;\n      if(e._body){\n        error = JSON.parse(e._body).message\n      }else {\n        error = e.message\n      }\n      this.showToast(error);\n      console.log(e);\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-pro-service/edit-pro-service.ts"],"sourceRoot":""}