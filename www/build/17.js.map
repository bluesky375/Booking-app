{"version":3,"sources":["../../src/pages/edit-pro-info/edit-pro-info.module.ts","../../src/pages/edit-pro-info/edit-pro-info.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EditProInfoPage } from './edit-pro-info';\n\n@NgModule({\n  declarations: [\n    EditProInfoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EditProInfoPage),\n  ],\n})\nexport class EditProInfoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-pro-info/edit-pro-info.module.ts","import { Component, Injector, ElementRef, ViewChild,NgZone} from '@angular/core';\nimport { IonicPage } from 'ionic-angular';\nimport {BasePage} from \"../base-page/base-page\";\nimport {User} from \"../../providers/user\";\n\nimport { AppConfig } from '../../app/app.config';\n\ndeclare let google;\n\n@IonicPage()\n@Component({\n  selector: 'page-edit-pro-info',\n  templateUrl: 'edit-pro-info.html',\n})\nexport class EditProInfoPage extends BasePage{\n\n  @ViewChild('map') mapElement: ElementRef;\n\n  private location: { lat?: number, lng?: number } = {};\n\n  provider:any;\n  callback:any;\n\n  private map: any;\n  private marker: any;\n\n  constructor(injector: Injector,\n              public zone: NgZone,\n              public user: User) {\n    super(injector);\n    this.provider = this.user.getUserInfo();\n    this.provider.id = this.user.getUserInfo()._id;\n    console.log(this.provider);\n\n\n    this.callback = this.NavParams(\"callback\");\n  }\n\n  ionViewDidLoad() {\n    this.firebase_CurrentScreen('Edit Service Provider Information Screen');\n    this.location.lat = parseFloat(this.user.getUserInfo().latitude);\n    this.location.lng = parseFloat(this.user.getUserInfo().longitude);\n    if (typeof google == 'undefined' || typeof google.maps == 'undefined') {\n      this.loadGoogleMaps()\n    } else {\n      this.initMap();\n    }\n  }\n\n  loadGoogleMaps() {\n\n    window['mapInit'] = () => {\n      this.initMap();\n    };\n\n    const apiKey = AppConfig.GOOGLE_MAPS_API_KEY;\n\n    let script = document.createElement('script');\n    script.id = 'googleMaps';\n    script.src = `https://maps.google.com/maps/api/js?key=${apiKey}&callback=mapInit`;\n    document.body.appendChild(script);\n\n  }\n\n  async initMap() {\n\n    let mapOptions: any = {\n      zoom: 0,\n      center: {lat: this.location.lat, lng: this.location.lng},\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    };\n\n    this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n\n    this.marker = new google.maps.Marker({\n      icon: {\n        url: './assets/imgs/pin.png',\n        scaledSize: new google.maps.Size(32, 32),\n        origin: new google.maps.Point(0, 0),\n        anchor: new google.maps.Point(0, 0)\n      },\n      position: {\n        lat: this.location.lat,\n        lng: this.location.lng\n      },\n      draggable:true,\n      map: this.map,\n    });\n\n    this.map.panTo(this.location);\n    this.map.setZoom(15);\n\n\n    this.marker.addListener('dragend', (event) => {\n      this.provider.latitude = event.latLng.lat();\n      this.provider.longitude = event.latLng.lng();\n    });\n\n\n  }\n\n  SubmitForm(){\n    if(this.provider.name === \"\" || !this.provider.name\n      || this.provider.title === \"\" || !this.provider.title\n      || this.provider.description === \"\"|| !this.provider.description){\n      this.showToast('Please fill the form data');\n      return\n    }\n\n\n    this.showLoadingView('e-p-i');\n\n    this.user.editProInfo(this.provider).subscribe(data => {\n      this.showContentView();\n      this.showToast('You\\'ve successfully updated your personal info');\n      let res = {data:data.professional};\n      this.callback(res).then(()=>{\n        this.goBack();\n      });\n    }, e => {\n      this.showContentView();\n      let error;\n      if(e._body){\n        error = JSON.parse(e._body).message\n      }else {\n        error = e.message\n      }\n      this.showToast(error);\n      console.log(e);\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-pro-info/edit-pro-info.ts"],"sourceRoot":""}