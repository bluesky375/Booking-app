{"version":3,"sources":["../../src/pages/build-profile/build-profile.module.ts","../../src/pages/build-profile/build-profile.ts"],"names":[],"mappings":"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","file":"23.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BuildProfilePage } from './build-profile';\n\n@NgModule({\n  declarations: [\n    BuildProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BuildProfilePage),\n  ],\n})\nexport class BuildProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/build-profile/build-profile.module.ts","import { Component, Injector, ViewChild } from '@angular/core';\nimport { IonicPage,Slides } from 'ionic-angular';\nimport {CountryCode} from \"../../providers/country-code\";\nimport {User} from \"../../providers/user\";\nimport {BasePage} from \"../base-page/base-page\";\nimport {Observable} from 'rxjs/Rx';\n\n@IonicPage()\n@Component({\n  selector: 'page-build-profile',\n  templateUrl: 'build-profile.html',\n})\nexport class BuildProfilePage extends BasePage{\n\n  @ViewChild(Slides) slides: Slides;\n  code:any = \"+233\";\n  codes:any;\n  country:any;\n  number: string = '';\n  number2: string = '';\n  email: string = '';\n  Vcode: string = '';\n  profile:any;\n  passed30: boolean = false;\n  timer: number = 300000;\n  init:boolean = true;\n  id:string = '';\n  mySubscription:any;\n\n  constructor(injector: Injector,\n     public user:User,\n     public countryCode: CountryCode) {\n\n    super(injector);\n    this.profile = this.NavParams('profile')\n\n  }\n\n  ionViewDidLoad() {\n    this.firebase_CurrentScreen('Build Profile Screen');\n    this.slides.lockSwipes(true);\n    this.codes = this.countryCode.getCodes().countries;\n  }\n\n  Submit(){\n\n    if(this.number === '' || this.number.length < 9 || this.number.length > 10){\n      this.showToast('Please enter a valid phone number');\n      return;\n    }\n\n    if(this.profile.email === \"\"){\n      if(this.email === '' || !this.email){\n        this.showToast('Please enter a valid email address');\n        return;\n      }\n    }\n    else{\n      this.email = this.profile.email;\n    }\n\n    for(let c of this.codes){\n      if(c.code === this.code){\n        this.country = c;\n      }\n    }\n\n    this.showLoadingView('build-profile');\n\n    if(this.number.length === 10 && this.number.substr(0,1) === '0'){\n      this.number = this.number.substr(1,10);\n    }\n\n    let data = {\n      init: this.init,\n      id: this.profile._id,\n      profile: this.profile,\n      email: this.email,\n      number: this.number,\n      number2: this.number2,\n      country: this.country\n    };\n\n    window.localStorage.setItem('number',this.number);\n    this.user.SaveFUser(data).subscribe(data =>{\n\n      if(data.success){\n        this.showContentView();\n        this.id = data.id;\n        this.timer = 30;\n        this.mySubscription = Observable.interval(1000).map(() => {}).subscribe(() => {\n          this.timer = this.timer - 1;\n          console.log(this.timer);\n          if (this.timer === 0) {\n            if(this.passed30 === false) {\n              this.passed30 = true;\n              this.timer = 59;\n            }else{\n              this.SwitchNumber();\n            }\n          }\n        });\n        this.passed30 = false;\n        this.slides.lockSwipes(false);\n        this.slides.slideNext();\n        this.slides.lockSwipes(true);\n      }else{\n        this.showErrorView();\n        this.showToast(data.msg);\n      }\n    },error => {\n      console.log(error);\n      this.showErrorView();\n      this.showToast(error.message);\n\n    });\n  }\n\n  SubmitCode(){\n    let data = {\n      phone: this.country.code+\"\"+this.number,\n      code: this.Vcode,\n      id: this.id,\n      type: 'facebook'\n    };\n\n    this.showLoadingView('build-profile2');\n\n\n    this.user.Verify(data).subscribe(data => {\n\n      if(data.success){\n        this.showContentView();\n        window.localStorage.setItem('token',  JSON.stringify(data.access_token));\n        window.localStorage.setItem('user',  JSON.stringify(data.user));\n        window.localStorage.setItem('type', JSON.stringify(data.type));\n        this.GoTo(\"HomePage\");\n      }else{\n        this.showErrorView();\n        this.showToast( data.msg);\n      }\n    },error => {\n      console.log(error);\n      this.showErrorView();\n      this.showToast(error.message);\n    })\n  }\n\n  SwitchNumber(){\n    this.mySubscription.unsubscribe();\n    this.init = false;\n    this.number2 = window.localStorage.getItem('number');\n    this.slides.lockSwipes(false);\n    this.slides.slideTo(0, 500);\n    this.slides.lockSwipeToNext(true);\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/build-profile/build-profile.ts"],"sourceRoot":""}