{"version":3,"sources":["../../src/pages/signin/signin.module.ts","../../src/pages/signin/signin.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SigninPage } from './signin';\nimport {SharedModule} from \"../../shared.module\";\n\n@NgModule({\n  declarations: [\n    SigninPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SigninPage),\n    SharedModule\n  ],\n})\nexport class SigninPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signin/signin.module.ts","import {Component, Injector} from '@angular/core';\nimport { IonicPage, Platform} from 'ionic-angular';\nimport {User} from \"../../providers/user\";\nimport {BasePage} from \"../base-page/base-page\";\nimport {TabPage} from \"../tab/tab\";\nimport {TabsPage} from \"../tabs/tabs\";\nimport {FCM} from \"@ionic-native/fcm\";\n\n\n@IonicPage()\n@Component({\n  selector: 'page-signin',\n  templateUrl: 'signin.html',\n})\nexport class SigninPage extends BasePage{\n\n  email:string = '';\n  password:string = '';\n  tabBarElement:any = null;\n\n  constructor(injector:Injector,\n    private fcm: FCM,\n    private platform: Platform,\n    public user: User) {\n    super(injector);\n    this.tabBarElement = document.querySelector('.toolbar');\n    if(this.tabBarElement){\n      this.tabBarElement.style.display = 'none';\n    }\n    this.firebase_CurrentScreen('Sign In Screen');\n    this.platform.registerBackButtonAction(() => {\n\n      this.showConfirm('Are you sure you want to exit this app?').then( () => {\n\n        navigator['app'].exitApp();\n\n      }).catch( (err) => console.error(err))\n\n   })\n  }\n\n  login(){\n    if(this.email === '' || this.password === ''){\n      this.showToast('Please enter both username and password');\n    }else{\n      let d = {\n        email: this.email,\n        password:this.password\n      };\n      this.showLoadingView('sign-in2');\n      this.user.Login(d).subscribe(data =>{\n        if(data.success){\n          this.showContentView();\n          let d = {\n            _id: null,\n            type:'user',\n            device_token:null\n          };\n          this.fcm.getToken().then(token => {\n            d._id = data.user._id;\n            d.device_token = token;\n            if(data.user.userType === 'Professional') d.type = 'professional';\n            this.user.updateDeviceToken(d).subscribe( (d) => {console.log(d);})\n\n          });\n          if(data.user.userType === 'Client'){\n            this.GoTo(TabPage);\n          }else if(data.user.userType === 'Professional'){\n            this.GoTo(TabsPage);\n          }else{\n            this.GoTo(TabPage);\n          }\n        }else{\n          this.showErrorView();\n          this.showToast(data.msg);\n        }\n      },error => {\n        console.log(error);\n        this.showToast(\"Invalid email or password\");\n        this.showErrorView();\n      })\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signin/signin.ts"],"sourceRoot":""}