{"version":3,"sources":["../../src/pages/services/services.module.ts","../../src/pages/services/services.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ServicesPage } from './services';\nimport {SharedModule} from \"../../shared.module\";\n\n@NgModule({\n  declarations: [\n    ServicesPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ServicesPage),\n    SharedModule\n  ],\n})\nexport class ServicePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/services/services.module.ts","import {Component, Injector, Renderer} from '@angular/core';\nimport { IonicPage } from 'ionic-angular';\nimport {BasePage} from \"../base-page/base-page\";\nimport { User } from \"../../providers/user\";\nimport {ServicesProvider} from \"../../providers/services\";\nimport * as moment from  'moment';\nimport {ImgLoader} from \"ionic-image-loader\";\n\n@IonicPage()\n@Component({\n  selector: 'page-services',\n  templateUrl: 'services.html',\n})\nexport class ServicesPage extends BasePage{\n\n  type:any = 'info';\n  category:any;\n  info:any;\n  services:any = [];\n  offers:any = [];\n  providers:any = [];\n  catLoaded:Boolean = false;\n  offLoaded:Boolean = false;\n  SerLoaded:Boolean = false;\n  itemExpandHeight: number = 230;\n\n  constructor(injector: Injector,\n     public sp: ServicesProvider,\n     public renderer: Renderer,\n     public user: User) {\n    super(injector);\n    this.category = this.NavParams('category');\n    this.firebase_CurrentScreen('Services Screen');\n  }\n\n  ionViewDidLoad() {\n    this.showLoadingView('service');\n    this.loadCategoryData();\n    this.loadOfferData();\n    this.loadServiceProviders();\n  }\n\n  onImageLoad(imgLoader: ImgLoader) {\n    this.renderer.setElementClass(imgLoader.element, 'fade-in', true);\n  }\n\n  async loadCategoryData(){\n    this.services = [];\n    await this.sp.getCategoriesByType(this.category._id).subscribe( (services) => {\n      if (services.length) {\n\n        for(let i of services){\n          i.expanded = false;\n          this.services.push(i);\n        }\n        this.catLoaded = true;\n\n        if (this.offLoaded  && this.SerLoaded){\n          this.showContentView();\n        }\n\n      } else {\n        this.catLoaded = true;\n        if (this.offLoaded  && this.SerLoaded && this.services.length === 0){\n          this.showContentView();\n        }\n      }\n\n      if (this.offLoaded  && this.SerLoaded) {\n        this.onRefreshComplete();\n      }\n    }, (e) => {\n      console.error(e);\n      this.showErrorView();\n      this.onRefreshComplete();\n    });\n\n  }\n\n  async loadOfferData(){\n    this.offers = [];\n    await this.sp.getOffersByType(this.category._id).subscribe( (offers) => {\n      if (offers.length) {\n\n        for(let i of offers){\n          i.from = moment(i.from).format(\"MMM Do\");\n          i.to = moment(i.to).format(\"MMM Do\");\n          this.offers.push(i);\n        }\n\n        this.offLoaded = true;\n\n        if(this.catLoaded  && this.SerLoaded){\n          this.showContentView();\n        }\n\n      } else {\n        this.offLoaded = true;\n        if (this.catLoaded  && this.SerLoaded && this.offers.length === 0){\n          this.showContentView();\n        }\n      }\n\n      if (this.catLoaded && this.SerLoaded) {\n        this.onRefreshComplete();\n      }\n    },(e) => {\n      console.error(e);\n      this.showErrorView();\n      this.onRefreshComplete();\n    });\n  }\n\n  async loadServiceProviders(){\n    \n    await this.sp.getPersonelByCategory(this.category._id).subscribe( (providers) => {\n      this.providers = [];\n      if (providers.length) {\n\n        for(let i of providers){\n          i.expanded = false;\n          this.providers.push(i);\n        }\n        this.SerLoaded = true;\n\n        if (this.offLoaded  && this.catLoaded){\n          this.showContentView();\n        }\n\n      } else {\n        this.SerLoaded = true;\n        if (this.offLoaded  && this.catLoaded && this.providers.length === 0){\n          this.showContentView();\n        }\n      }\n\n      if (this.offLoaded  && this.catLoaded) {\n        this.onRefreshComplete();\n      }\n    }, (e) => {\n      console.error(e);\n      this.showErrorView();\n      this.onRefreshComplete();\n    });\n  }\n\n  // book(service){\n  //   this.navigateTo('CalendarPage',{service:service,category:this.category});\n  // }\n  //\n  // UserProfile(){\n  //   this.navigateTo('ProfilePage')\n  // }\n  //\n  // presentPopover(myEvent) {\n  //   this.showPopover(myEvent,Popover)\n  // }\n\n\n  onReload(refresher) {\n    this.refresher = refresher;\n    this.loadCategoryData();\n    this.loadOfferData();\n    this.loadServiceProviders();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/services/services.ts"],"sourceRoot":""}