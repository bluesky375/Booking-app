{"version":3,"sources":["../../src/pages/service-detail/service-detail.module.ts","../../src/pages/service-detail/service-detail.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ServiceDetailPage } from './service-detail';\n\n@NgModule({\n  declarations: [\n    ServiceDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ServiceDetailPage),\n  ],\n})\nexport class ServiceDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/service-detail/service-detail.module.ts","import { Component, Injector } from \"@angular/core\";\nimport { IonicPage } from \"ionic-angular\";\nimport { BasePage } from \"../base-page/base-page\";\nimport { ServicesProvider } from \"../../providers/services\";\nimport { User } from \"../../providers/user\";\nimport { CallNumber } from \"@ionic-native/call-number\";\nimport moment from \"moment\";\n\n@IonicPage()\n@Component({\n  selector: \"page-service-detail\",\n  templateUrl: \"service-detail.html\"\n})\nexport class ServiceDetailPage extends BasePage {\n  data: any;\n  constructor(\n    injector: Injector,\n    public sp: ServicesProvider,\n    private callNumber: CallNumber,\n    public user: User\n  ) {\n    super(injector);\n    this.data = this.NavParams(\"booked\");\n    this.firebase_CurrentScreen(\"Service Provider Service Detail Screen\");\n  }\n\n  ionViewDidLoad() {\n    let fd = moment(this.data.date)\n      .format(\"llll\")\n      .split(\",\")[0];\n    let tp = moment(this.data.timeBooked)\n      .format(\"llll\")\n      .split(\",\")[0];\n\n    this.data.reviewed = false;\n    this.data.comment = \"\";\n    this.data.rating = \"\";\n    this.data.full_date =\n      fd + \", \" + moment(this.data.date).format(\"MMM Do, YYYY\");\n    this.data.timeposted =\n      tp + \", \" + moment(this.data.timeBooked).format(\"MMM Do, YYYY\");\n\n    console.log(this.data);\n  }\n\n  makeCall(num: string) {\n    this.callNumber\n      .callNumber(num, true)\n      .then()\n      .catch(() => console.log(\"Error launching dialer\"));\n  }\n\n  confirm(item: any, status: any, name: string) {\n    this.showConfirm(\"Are you sure you want to \" + name + \" this service?\")\n      .then(() => {\n        this.showLoadingView(\"c-app\");\n        try {\n          let data = {\n            item: item,\n            status: status,\n            id: this.user.getUserInfo()._id\n          };\n\n          this.sp.confirmBooking(data).subscribe(\n            d => {\n              this.showContentView();\n              this.goBack();\n              this.showToast(\n                \"You've successfully \" + name + \"ed this appointment\"\n              );\n            },\n            e => {\n              this.showContentView();\n              let error: string;\n              if (e._body) {\n                error = JSON.parse(e._body).message;\n              } else {\n                error = e.message;\n              }\n              this.showToast(error);\n              console.log(e);\n            }\n          );\n        } catch (e) {\n          this.showContentView();\n          let error: string;\n          if (e._body) {\n            error = JSON.parse(e._body).message;\n          } else {\n            error = e.message;\n          }\n          this.showToast(error);\n          console.log(e);\n        }\n      })\n      .catch(err => console.log(err));\n  }\n\n  completed(\n    item: { professional_completed: boolean; client_completed: any },\n    index: any\n  ) {\n    this.showConfirm(\n      \"Are you sure you want to mark this appointment as completed\"\n    )\n      .then(() => {\n        this.showLoadingView(\"p-home2\");\n        try {\n          this.sp.completedService(item, \"professional\").subscribe(\n            data => {\n              item.professional_completed = true;\n              if (item.client_completed) {\n                this.goBack();\n              }\n              this.showToast(\n                \"You've successfully marked this appointment as complete\"\n              );\n              this.showContentView();\n            },\n            e => {\n              this.showContentView();\n              let error: string;\n              if (e._body) {\n                error = JSON.parse(e._body).message;\n              } else {\n                error = e.message;\n              }\n              this.showToast(error);\n              console.log(e);\n            }\n          );\n        } catch (e) {\n          console.log(e);\n          this.showErrorView();\n        }\n      })\n      .catch(err => console.log(err));\n  }\n\n  pay(item: { professional_paid: boolean; client_paid: any }, index: any) {\n    this.showConfirm(\"Are you sure payment has been completed'\")\n      .then(() => {\n        this.showLoadingView(\"invoice\");\n\n        this.sp.paidService(item, \"professional\").subscribe(\n          data => {\n            item.professional_paid = true;\n            if (item.client_paid) {\n              this.goBack();\n            }\n            this.showToast(\n              \"You've successfully marked this appointment as paid\"\n            );\n            this.showContentView();\n          },\n          e => {\n            this.showContentView();\n            let error: string;\n            if (e._body) {\n              error = JSON.parse(e._body).message;\n            } else {\n              error = e.message;\n            }\n            this.showToast(error);\n            console.log(e);\n          }\n        );\n      })\n      .catch(err => console.log(err));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/service-detail/service-detail.ts"],"sourceRoot":""}